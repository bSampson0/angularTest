<div class="container">
  <mat-card>
    <mat-card-title>
      <span class="title">AI Image Generator (Dall-e)</span>
    </mat-card-title>
    <ng-container *ngIf="isLoading">
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </ng-container>
    <mat-card-content>
      <mat-form-field class="full-width" color="accent">
        <mat-label>Prompt to generate image</mat-label>
        <textarea [formControl]="prompt" matInput rows="5"></textarea>
      </mat-form-field>
    </mat-card-content>
    <mat-card-actions>
      <button
        [disabled]="isLoading || prompt.value.length === 0"
        mat-flat-button
        color="accent"
        (click)="getImageUrl()"
      >
        Generate Image
      </button>
    </mat-card-actions>
  </mat-card>
  <ng-container *ngIf="imageUrl">
    <mat-card class="preview-card">
      <mat-card-header>
        <mat-card-title> Preview </mat-card-title>
      </mat-card-header>
      <img mat-card-image [src]="imageUrl" [alt]="prompt" />
      <mat-card-actions>
        <button mat-flat-button color="accent" (click)="downloadImg()">
          Download
        </button>
      </mat-card-actions>
    </mat-card>
  </ng-container>
</div>
